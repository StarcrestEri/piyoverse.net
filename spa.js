!function(){try{if(window.__legacy_low_end)return}catch(t){}if(!window.__spa_installed){window.__spa_installed=!0;try{e()}catch(t){}try{var t=document.createElement("style");t.id="spa-fallback-outline",t.textContent='\nhtml.ice-cream .game-card::after { content:""; position:absolute; top:6px; right:-4px; bottom:6px; left:-4px; border-radius:14px; box-shadow: 0 0 0 1px rgba(43,111,160,0.95) !important; background-image:none !important; opacity:1 !important; pointer-events:none; transition: box-shadow 180ms ease, opacity 180ms ease; z-index:2; }\nhtml.ice-cream .game-card:hover::after { box-shadow: 0 0 0 2px rgba(43,111,160,0.95), 0 0 0 5px rgba(182,220,255,0.95), 0 0 14px rgba(182,220,255,0.95) !important; background-image:none !important; }\nhtml.ice-cream .game-card::before { content:""; position:absolute; top:10px; bottom:6px; left:-4px; right:-4px; border-radius:12px; background-image: linear-gradient(to bottom, rgba(255,255,255,0.28), rgba(255,255,255,0.06)), linear-gradient(to bottom, rgba(182,220,255,0.12), rgba(255,255,255,0.00)), linear-gradient(to top, rgba(0,0,0,0.18), rgba(0,0,0,0.02)); background-position: top left, top left, bottom left; background-size: 100% 28px, 100% 28px, 100% 7px; background-repeat: no-repeat; opacity:0; pointer-events:none; transition: transform 180ms ease, opacity 180ms ease; z-index:1; }\nhtml.ice-cream .game-card:hover::before { opacity:1 !important; transform: translateY(-2px) !important; }\n';try{document.getElementsByTagName("head")[0].appendChild(t)}catch(t){}}catch(t){}document.addEventListener?document.addEventListener("click",n,!1):document.attachEvent&&document.attachEvent("onclick",n),window.addEventListener?window.addEventListener("popstate",r):window.attachEvent&&window.attachEvent("onpopstate",r);try{!function(){try{var t=null;function e(t){try{if(!t||!t.tagName)return!1;var e=t.tagName.toLowerCase();if("button"===e)return!0;if("input"===e){var n=(t.type||"").toLowerCase();return"button"===n||"submit"===n}if("a"===e){var a=t.className||"";return-1!==a.indexOf("btn")||-1!==a.indexOf("nav-item")||-1!==a.indexOf("marketplace-btn")}return!1}catch(t){return!1}}function n(t){for(var n=t;n&&n!==document.documentElement;){if(e(n))return n;n=n.parentNode}return null}function a(e){var a=(e=e||window.event).target||e.srcElement;t=n(a)}function r(e){try{if(!t)return;var a=n(e&&(e.target||e.srcElement)||null);if(a&&a===t)try{a.blur&&a.blur()}catch(t){}}finally{t=null}}document.addEventListener?(document.addEventListener("pointerdown",a,!0),document.addEventListener("mousedown",a,!0),document.addEventListener("click",r,!0)):document.attachEvent&&(document.attachEvent("onmousedown",a),document.attachEvent("onclick",r))}catch(o){}}()}catch(t){}}function e(){try{var t=document.documentElement;if(!t)return;try{t.setAttribute("data-theme-mode","light")}catch(t){}try{t.setAttribute("data-theme","opal")}catch(t){}}catch(t){}}function n(t){var e=function(t){for(;t&&t!==document.documentElement;){if(t.tagName&&"a"===t.tagName.toLowerCase())return t;t=t.parentNode}return null}((t=t||window.event).target||t.srcElement);if(e&&function(t){try{if(!t||!t.getAttribute)return!1;var e=t.getAttribute("href");if(!e)return!1;if(0===(e=e.trim()).indexOf("mailto:")||0===e.indexOf("tel:"))return!1;if(t.target&&t.target.toLowerCase&&"_blank"===t.target.toLowerCase())return!1;var n=null;try{window.URL&&(n=new URL(e,window.location.href).href)}catch(t){n=null}if(!n)try{var a=document.createElement("a");if(a.href=e,a.host&&a.host!==window.location.host)return!1;n=a.href}catch(t){return!1}return 0===n.indexOf(window.location.origin)}catch(t){return!1}}(e)&&!e.getAttribute("download")&&!e.hasAttribute("data-no-spa")&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.which&&2===t.which)){var n=e.getAttribute("href")||e.href;if(0!==n.indexOf("#")&&0!==n.indexOf(window.location.pathname+"#")){try{t.preventDefault?t.preventDefault():t.returnValue=!1}catch(t){}a(n,!0)}}}function a(t,n){try{var a=t,r=null;try{var o=!0;try{"off"===localStorage.getItem("site-music")&&(o=!1)}catch(t){o=!0}try{!1===window.siteMusicEnabled&&(o=!1)}catch(t){}var i=document.getElementById("piyoverse-music");o&&i&&(r={playing:!i.paused,time:i.currentTime})}catch(t){r=null}var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){if(4===c.readyState)if(c.status>=200&&c.status<300){var o=c.responseText,i=null;try{i=(new DOMParser).parseFromString(o,"text/html")}catch(t){i=null}if(!i)try{var d=document.implementation.createHTMLDocument("tmp");d.documentElement.innerHTML=o,i=d}catch(t){}if(!i)return void(window.location.href=t);try{var u=i.getElementsByTagName("title")[0];u&&(document.title=u.textContent||u.innerText||document.title)}catch(t){}try{var m=i.getElementsByTagName("main")[0],l=document.getElementsByTagName("main")[0];if(!m||!l)return void(window.location.href=t);l.innerHTML=m.innerHTML;var s=i.querySelector(".page-name-container"),h=document.querySelector(".page-name-container");s&&h&&(h.innerHTML=s.innerHTML)}catch(t){}try{for(var f=(i.getElementsByTagName("main")[0]||i.body).querySelectorAll("script"),p=0;p<f.length;p++){var w=f[p],y=w.getAttribute("src");if(y){for(var g=["market-audio.js","ribbons-of-life.js","ie-fixes.js","anti-inspect.js","spa.js"],b=!1,v=0;v<g.length;v++)if(-1!==y.indexOf(g[v])){b=!0;break}if(b)continue;var x=document.createElement("script");x.src=y,document.body.appendChild(x)}else try{new Function(w.innerHTML)()}catch(t){}}}catch(t){}try{n&&window.history&&window.history.pushState&&window.history.pushState({spa:!0},"",a)}catch(t){}try{window.siteReinit&&window.siteReinit()}catch(t){}try{e()}catch(t){}try{if(window.ribbonsSetTheme)try{var E=document.documentElement.getAttribute("data-theme-mode")||"light",L=document.documentElement.getAttribute("data-theme")||"opal";window.ribbonsSetTheme(E,L)}catch(t){}}catch(t){}try{if(r){var T=document.getElementById("piyoverse-music");if(T&&null!==T){try{if("number"==typeof r.time&&Math.abs((T.currentTime||0)-r.time)>.5)try{T.currentTime=r.time}catch(t){}}catch(t){}try{var k=!0;try{"off"===localStorage.getItem("site-music")&&(k=!1)}catch(t){k=!0}try{!1===window.siteMusicEnabled&&(k=!1)}catch(t){}if(k&&r.playing){var M=T.play&&T.play();M&&M.then&&M.catch(function(){})}else{try{T.pause&&T.pause()}catch(t){}try{T.volume=0}catch(t){}}}catch(t){}}}}catch(t){}try{window.scrollTo(0,0)}catch(t){}}else window.location.href=t},c.send(null)}catch(e){try{window.location.href=t}catch(t){}}}function r(){a(window.location.href,!1)}}();